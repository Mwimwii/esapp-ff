{"ast":null,"code":"import { FormBuilder, Validators } from '@angular/forms';\nimport { select, Store } from '@ngrx/store';\nimport * as Reducers from 'src/app/store/reducers';\nimport * as UserActions from 'src/app/store/user/actions';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@ngrx/store\";\nexport let LoginComponent = /*#__PURE__*/(() => {\n  class LoginComponent {\n    constructor(fb, store) {\n      this.fb = fb;\n      this.store = store;\n      this.authProvider = 'basic-auth';\n      this.loading = false;\n      this.form = fb.group({\n        email: ['admin@emis.com', [Validators.required, Validators.minLength(4)]],\n        password: ['Q!weRTy@134', [Validators.required]]\n      });\n      this.store.pipe(select(Reducers.getSettings)).subscribe(state => {\n        this.logo = state.logo;\n        this.authProvider = state.authProvider;\n      });\n      this.store.pipe(select(Reducers.getUser)).subscribe(state => {\n        this.loading = state.loading;\n      });\n    }\n\n    get email() {\n      return this.form.controls.email;\n    }\n\n    get password() {\n      return this.form.controls.password;\n    }\n\n    submitForm() {\n      this.email.markAsDirty();\n      this.email.updateValueAndValidity();\n      this.password.markAsDirty();\n      this.password.updateValueAndValidity();\n\n      if (this.email.invalid || this.password.invalid) {\n        return;\n      }\n\n      const payload = {\n        email: this.email.value,\n        password: this.password.value\n      };\n      this.store.dispatch(new UserActions.Login(payload));\n    }\n\n  }\n\n  LoginComponent.ɵfac = function LoginComponent_Factory(t) {\n    return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.Store));\n  };\n\n  LoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LoginComponent,\n    selectors: [[\"vb-system-login\"]],\n    decls: 23,\n    vars: 3,\n    consts: [[1, \"pt-5\"], [1, \"card\", \"boxContainer\", \"mt-2\"], [1, \"text-dark\", \"font-size-32\", \"mb-3\"], [1, \"mb-4\"], [\"nz-form\", \"\", \"role\", \"form\", 3, \"nzLayout\", \"formGroup\", \"ngSubmit\"], [\"nzErrorTip\", \"Please input your email!\"], [\"type\", \"text\", \"nz-input\", \"\", \"formControlName\", \"email\", \"placeholder\", \"Email Address\"], [\"nzErrorTip\", \"Please input your Password!\"], [\"type\", \"password\", \"nz-input\", \"\", \"formControlName\", \"password\", \"placeholder\", \"Password\"], [\"nz-button\", \"\", \"nzType\", \"primary\", 1, \"text-center\", \"w-100\", 3, \"nzLoading\"], [\"routerLink\", \"/auth/forgot-password\", 1, \"vb__utils__link\"]],\n    template: function LoginComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2);\n        i0.ɵɵtext(3, \"Sign In\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 3);\n        i0.ɵɵtext(5, \" Login and password \");\n        i0.ɵɵelement(6, \"br\");\n        i0.ɵɵelementStart(7, \"strong\");\n        i0.ɵɵtext(8, \"admin@emis.com / Q!weRTy@134\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(9, \"form\", 4);\n        i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_9_listener() {\n          return ctx.submitForm();\n        });\n        i0.ɵɵelementStart(10, \"nz-form-item\")(11, \"nz-form-control\", 5);\n        i0.ɵɵelement(12, \"input\", 6);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(13, \"nz-form-item\")(14, \"nz-form-control\", 7);\n        i0.ɵɵelement(15, \"input\", 8);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(16, \"nz-form-item\")(17, \"nz-form-control\")(18, \"button\", 9)(19, \"strong\");\n        i0.ɵɵtext(20, \"Log In\");\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(21, \"a\", 10);\n        i0.ɵɵtext(22, \" Forgot password? \");\n        i0.ɵɵelementEnd()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"nzLayout\", \"vertical\")(\"formGroup\", ctx.form);\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"nzLoading\", ctx.loading);\n      }\n    },\n    styles: [\".boxContainer[_ngcontent-%COMP%]{max-width:30rem;min-width:30rem;padding:2.66rem;margin-left:auto;margin-right:auto;border-radius:12px}@media (max-width: 767px){.boxContainer[_ngcontent-%COMP%]{min-width:25.33rem;padding:2.66rem}}\"]\n  });\n  return LoginComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}