{"ast":null,"code":"import { __extends } from \"tslib\";\nimport { ElementRef } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { FieldType } from '@ngx-formly/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/platform-browser\";\nvar _c0 = [\"fileinput\"];\n\nfunction FormlyFieldFile_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵelement(1, \"img\", 10);\n    i0.ɵɵelementStart(2, \"span\", 11);\n    i0.ɵɵlistener(\"click\", function FormlyFieldFile_div_2_Template_span_click_2_listener() {\n      var restoredCtx = i0.ɵɵrestoreView(_r5);\n      var i_r3 = restoredCtx.index;\n      var ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.onDelete(i_r3);\n    });\n    i0.ɵɵtext(3, \"X\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    var file_r2 = ctx.$implicit;\n    var ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", ctx_r0.getSanitizedImageUrl(file_r2), i0.ɵɵsanitizeUrl);\n  }\n}\n\nvar FormlyFieldFile =\n/** @class */\nfunction (_super) {\n  __extends(FormlyFieldFile, _super);\n\n  function FormlyFieldFile(sanitizer) {\n    var _this = _super.call(this) || this;\n\n    _this.sanitizer = sanitizer;\n    return _this;\n  }\n\n  FormlyFieldFile.prototype.ngOnInit = function () {// get product\n  };\n\n  FormlyFieldFile.prototype.openFileInput = function () {\n    this.el.nativeElement.click();\n  };\n\n  FormlyFieldFile.prototype.onDelete = function (index) {\n    // this.formControl.reset();\n    console.log(this.selectedFiles);\n    this.selectedFiles.splice(index, 1);\n    this.formControl.patchValue(this.selectedFiles); // console.log(\"Form Control Value\", this.formControl.value);\n  };\n\n  FormlyFieldFile.prototype.onChange = function (event) {\n    this.selectedFiles = Array.from(event.target.files);\n\n    if (this.selectedFiles.length > 10) {\n      this.selectedFiles.length = 10;\n    } // console.log(this.selectedFiles);\n\n  };\n\n  FormlyFieldFile.prototype.getSanitizedImageUrl = function (file) {\n    return this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(file));\n  };\n\n  FormlyFieldFile.prototype.isImage = function (file) {\n    return /^image\\//.test(file.type);\n  };\n\n  FormlyFieldFile.ɵfac = function FormlyFieldFile_Factory(t) {\n    return new (t || FormlyFieldFile)(i0.ɵɵdirectiveInject(i1.DomSanitizer));\n  };\n\n  FormlyFieldFile.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: FormlyFieldFile,\n    selectors: [[\"formly-field-file\"]],\n    viewQuery: function FormlyFieldFile_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n\n      if (rf & 2) {\n        var _t = void 0;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.el = _t.first);\n      }\n    },\n    features: [i0.ɵɵInheritDefinitionFeature],\n    decls: 11,\n    vars: 4,\n    consts: [[1, \"upload-wrapper\"], [1, \"file-container\"], [\"class\", \"file\", 4, \"ngFor\", \"ngForOf\"], [1, \"upload-container\", 3, \"click\"], [1, \"mask\"], [1, \"helper-text\"], [1, \"absolute-div\"], [\"id\", \"file-input\", \"type\", \"file\", \"accept\", \".png,.jpg\", 2, \"display\", \"none\", 3, \"multiple\", \"formControl\", \"formlyAttributes\", \"change\"], [\"fileinput\", \"\"], [1, \"file\"], [3, \"src\"], [3, \"click\"]],\n    template: function FormlyFieldFile_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n        i0.ɵɵtemplate(2, FormlyFieldFile_div_2_Template, 4, 1, \"div\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 3);\n        i0.ɵɵlistener(\"click\", function FormlyFieldFile_Template_div_click_3_listener() {\n          return ctx.openFileInput();\n        });\n        i0.ɵɵelement(4, \"div\", 4);\n        i0.ɵɵelementStart(5, \"div\", 5)(6, \"div\", 6)(7, \"div\");\n        i0.ɵɵtext(8, \" Upload image(s) \");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(9, \"input\", 7, 8);\n        i0.ɵɵlistener(\"change\", function FormlyFieldFile_Template_input_change_9_listener($event) {\n          return ctx.onChange($event);\n        });\n        i0.ɵɵelementEnd()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.selectedFiles);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"multiple\", ctx.to.multiple)(\"formControl\", ctx.formControl)(\"formlyAttributes\", ctx.field);\n      }\n    },\n    styles: [\".upload-wrapper[_ngcontent-%COMP%]{padding-bottom:1.25em}.upload-wrapper[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;height:50px;border:1px dashed #3f51c2;border-radius:5px}.upload-wrapper[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]   .helper-text[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.upload-wrapper[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]   .helper-text[_ngcontent-%COMP%]   .absolute-div[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:absolute;right:3%;left:3%}.upload-wrapper[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]   .helper-text[_ngcontent-%COMP%]   .absolute-div[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#3f51c2}.upload-wrapper[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]   .helper-text[_ngcontent-%COMP%]   .absolute-div[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{cursor:pointer}.upload-wrapper[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]   .helper-text[_ngcontent-%COMP%]   .absolute-div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:#3f51c2}.upload-wrapper[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]   .helper-text[_ngcontent-%COMP%]   .absolute-div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{cursor:pointer}.upload-wrapper[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]   .mask[_ngcontent-%COMP%]{justify-content:center;align-items:stretch;flex:1;border-radius:5px;padding:0%}.upload-wrapper[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]:hover   .mask[_ngcontent-%COMP%]{background-color:#3f51c2;opacity:.2;cursor:pointer}.upload-wrapper[_ngcontent-%COMP%]   .file-container[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap;align-content:space-between;justify-content:flex-start;padding:10px;margin-top:8px;margin-bottom:8px}.upload-wrapper[_ngcontent-%COMP%]   .file-container[_ngcontent-%COMP%]   .file[_ngcontent-%COMP%]{position:relative;padding:5px}.upload-wrapper[_ngcontent-%COMP%]   .file-container[_ngcontent-%COMP%]   .file[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:105px;height:105px;display:block;border-radius:5px;object-fit:cover}.upload-wrapper[_ngcontent-%COMP%]   .file-container[_ngcontent-%COMP%]   .file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none;position:absolute;z-index:1;left:10px;top:10px;color:#3f51c2}.upload-wrapper[_ngcontent-%COMP%]   .file-container[_ngcontent-%COMP%]   .file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{cursor:pointer}.upload-wrapper[_ngcontent-%COMP%]   .file-container[_ngcontent-%COMP%]   .file[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{display:inherit;cursor:pointer}.upload-wrapper[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]{border:#3f51c2 solid 1px}.upload-wrapper[_ngcontent-%COMP%]   .underline-red[_ngcontent-%COMP%]{color:red}\"]\n  });\n  return FormlyFieldFile;\n}(FieldType);\n\nexport { FormlyFieldFile };","map":null,"metadata":{},"sourceType":"module"}