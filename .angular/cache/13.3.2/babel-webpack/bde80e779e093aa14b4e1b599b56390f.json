{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\admin\\\\Documents\\\\work\\\\ESAPP\\\\esapp-mobile\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport _classCallCheck from \"C:\\\\Users\\\\admin\\\\Documents\\\\work\\\\ESAPP\\\\esapp-mobile\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\classCallCheck.js\";\nimport _createClass from \"C:\\\\Users\\\\admin\\\\Documents\\\\work\\\\ESAPP\\\\esapp-mobile\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createClass.js\";\nimport _inherits from \"C:\\\\Users\\\\admin\\\\Documents\\\\work\\\\ESAPP\\\\esapp-mobile\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\inherits.js\";\nimport _createSuper from \"C:\\\\Users\\\\admin\\\\Documents\\\\work\\\\ESAPP\\\\esapp-mobile\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createSuper.js\";\nimport _regeneratorRuntime from \"C:\\\\Users\\\\admin\\\\Documents\\\\work\\\\ESAPP\\\\esapp-mobile\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";\nimport { WebPlugin } from '@capacitor/core';\nexport var GeolocationWeb = /*#__PURE__*/function (_WebPlugin) {\n  _inherits(GeolocationWeb, _WebPlugin);\n\n  var _super = _createSuper(GeolocationWeb);\n\n  function GeolocationWeb() {\n    _classCallCheck(this, GeolocationWeb);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(GeolocationWeb, [{\n    key: \"getCurrentPosition\",\n    value: function () {\n      var _getCurrentPosition = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(options) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt(\"return\", new Promise(function (resolve, reject) {\n                  navigator.geolocation.getCurrentPosition(function (pos) {\n                    resolve(pos);\n                  }, function (err) {\n                    reject(err);\n                  }, Object.assign({\n                    enableHighAccuracy: false,\n                    timeout: 10000,\n                    maximumAge: 0\n                  }, options));\n                }));\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getCurrentPosition(_x) {\n        return _getCurrentPosition.apply(this, arguments);\n      }\n\n      return getCurrentPosition;\n    }()\n  }, {\n    key: \"watchPosition\",\n    value: function () {\n      var _watchPosition = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(options, callback) {\n        var id;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                id = navigator.geolocation.watchPosition(function (pos) {\n                  callback(pos);\n                }, function (err) {\n                  callback(null, err);\n                }, Object.assign({\n                  enableHighAccuracy: false,\n                  timeout: 10000,\n                  maximumAge: 0\n                }, options));\n                return _context2.abrupt(\"return\", \"\".concat(id));\n\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function watchPosition(_x2, _x3) {\n        return _watchPosition.apply(this, arguments);\n      }\n\n      return watchPosition;\n    }()\n  }, {\n    key: \"clearWatch\",\n    value: function () {\n      var _clearWatch = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(options) {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                window.navigator.geolocation.clearWatch(parseInt(options.id, 10));\n\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function clearWatch(_x4) {\n        return _clearWatch.apply(this, arguments);\n      }\n\n      return clearWatch;\n    }()\n  }, {\n    key: \"checkPermissions\",\n    value: function () {\n      var _checkPermissions = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n        var permission;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (!(typeof navigator === 'undefined' || !navigator.permissions)) {\n                  _context4.next = 2;\n                  break;\n                }\n\n                throw this.unavailable('Permissions API not available in this browser');\n\n              case 2:\n                _context4.next = 4;\n                return window.navigator.permissions.query({\n                  name: 'geolocation'\n                });\n\n              case 4:\n                permission = _context4.sent;\n                return _context4.abrupt(\"return\", {\n                  location: permission.state,\n                  coarseLocation: permission.state\n                });\n\n              case 6:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function checkPermissions() {\n        return _checkPermissions.apply(this, arguments);\n      }\n\n      return checkPermissions;\n    }()\n  }, {\n    key: \"requestPermissions\",\n    value: function () {\n      var _requestPermissions = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                throw this.unimplemented('Not implemented on web.');\n\n              case 1:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function requestPermissions() {\n        return _requestPermissions.apply(this, arguments);\n      }\n\n      return requestPermissions;\n    }()\n  }]);\n\n  return GeolocationWeb;\n}(WebPlugin);\nvar Geolocation = new GeolocationWeb();\nexport { Geolocation }; //# sourceMappingURL=web.js.map","map":null,"metadata":{},"sourceType":"module"}