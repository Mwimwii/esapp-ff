{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\admin\\\\Documents\\\\work\\\\ESAPP\\\\esapp-mobile\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\classCallCheck.js\";\nimport _createClass from \"C:\\\\Users\\\\admin\\\\Documents\\\\work\\\\ESAPP\\\\esapp-mobile\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createClass.js\";\nimport { __decorate } from 'tslib';\nimport * as i0 from '@angular/core';\nimport { EventEmitter, Component, ChangeDetectionStrategy, ViewEncapsulation, Input, Output, ViewChild, NgModule } from '@angular/core';\nimport * as i1 from 'ng-zorro-antd/core/config';\nimport { WithConfig } from 'ng-zorro-antd/core/config';\nimport { InputNumber } from 'ng-zorro-antd/core/util';\nimport * as i2 from '@angular/cdk/platform';\nimport { PlatformModule } from '@angular/cdk/platform';\nimport * as i3 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i4 from 'ng-zorro-antd/icon';\nimport { NzIconModule } from 'ng-zorro-antd/icon';\nimport { BidiModule } from '@angular/cdk/bidi';\nvar _c0 = [\"textEl\"];\n\nfunction NzAvatarComponent_i_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 3);\n  }\n\n  if (rf & 2) {\n    var ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"nzType\", ctx_r0.nzIcon);\n  }\n}\n\nfunction NzAvatarComponent_img_1_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"img\", 4);\n    i0.ɵɵlistener(\"error\", function NzAvatarComponent_img_1_Template_img_error_0_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      var ctx_r3 = i0.ɵɵnextContext();\n      return ctx_r3.imgError($event);\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"src\", ctx_r1.nzSrc, i0.ɵɵsanitizeUrl);\n    i0.ɵɵattribute(\"srcset\", ctx_r1.nzSrcSet, i0.ɵɵsanitizeUrl)(\"alt\", ctx_r1.nzAlt);\n  }\n}\n\nfunction NzAvatarComponent_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 5, 6);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngStyle\", ctx_r2.textStyles);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r2.nzText);\n  }\n}\n\nvar _c1 = [\"*\"];\nvar NZ_CONFIG_MODULE_NAME = 'avatar';\n\nvar NzAvatarComponent = /*#__PURE__*/function () {\n  function NzAvatarComponent(nzConfigService, elementRef, cdr, platform) {\n    _classCallCheck(this, NzAvatarComponent);\n\n    this.nzConfigService = nzConfigService;\n    this.elementRef = elementRef;\n    this.cdr = cdr;\n    this.platform = platform;\n    this._nzModuleName = NZ_CONFIG_MODULE_NAME;\n    this.nzShape = 'circle';\n    this.nzSize = 'default';\n    this.nzGap = 4;\n    this.nzError = new EventEmitter();\n    this.hasText = false;\n    this.hasSrc = true;\n    this.hasIcon = false;\n    this.textStyles = {};\n    this.classMap = {};\n    this.customSize = null;\n    this.el = this.elementRef.nativeElement;\n  }\n\n  _createClass(NzAvatarComponent, [{\n    key: \"imgError\",\n    value: function imgError($event) {\n      this.nzError.emit($event);\n\n      if (!$event.defaultPrevented) {\n        this.hasSrc = false;\n        this.hasIcon = false;\n        this.hasText = false;\n\n        if (this.nzIcon) {\n          this.hasIcon = true;\n        } else if (this.nzText) {\n          this.hasText = true;\n        }\n\n        this.cdr.detectChanges();\n        this.setSizeStyle();\n        this.notifyCalc();\n      }\n    }\n  }, {\n    key: \"ngOnChanges\",\n    value: function ngOnChanges() {\n      this.hasText = !this.nzSrc && !!this.nzText;\n      this.hasIcon = !this.nzSrc && !!this.nzIcon;\n      this.hasSrc = !!this.nzSrc;\n      this.setSizeStyle();\n      this.notifyCalc();\n    }\n  }, {\n    key: \"calcStringSize\",\n    value: function calcStringSize() {\n      if (!this.hasText) {\n        return;\n      }\n\n      var childrenWidth = this.textEl.nativeElement.offsetWidth;\n      var avatarWidth = this.el.getBoundingClientRect().width;\n      var offset = this.nzGap * 2 < avatarWidth ? this.nzGap * 2 : 8;\n      var scale = avatarWidth - offset < childrenWidth ? (avatarWidth - offset) / childrenWidth : 1;\n      this.textStyles = {\n        transform: \"scale(\".concat(scale, \") translateX(-50%)\")\n      };\n\n      if (this.customSize) {\n        Object.assign(this.textStyles, {\n          lineHeight: this.customSize\n        });\n      }\n\n      this.cdr.detectChanges();\n    }\n  }, {\n    key: \"notifyCalc\",\n    value: function notifyCalc() {\n      var _this = this;\n\n      // If use ngAfterViewChecked, always demands more computations, so......\n      if (this.platform.isBrowser) {\n        setTimeout(function () {\n          _this.calcStringSize();\n        });\n      }\n    }\n  }, {\n    key: \"setSizeStyle\",\n    value: function setSizeStyle() {\n      if (typeof this.nzSize === 'number') {\n        this.customSize = \"\".concat(this.nzSize, \"px\");\n      } else {\n        this.customSize = null;\n      }\n\n      this.cdr.markForCheck();\n    }\n  }]);\n\n  return NzAvatarComponent;\n}();\n\nNzAvatarComponent.ɵfac = function NzAvatarComponent_Factory(t) {\n  return new (t || NzAvatarComponent)(i0.ɵɵdirectiveInject(i1.NzConfigService), i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i2.Platform));\n};\n\nNzAvatarComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: NzAvatarComponent,\n  selectors: [[\"nz-avatar\"]],\n  viewQuery: function NzAvatarComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n\n    if (rf & 2) {\n      var _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.textEl = _t.first);\n    }\n  },\n  hostAttrs: [1, \"ant-avatar\"],\n  hostVars: 20,\n  hostBindings: function NzAvatarComponent_HostBindings(rf, ctx) {\n    if (rf & 2) {\n      i0.ɵɵstyleProp(\"width\", ctx.customSize)(\"height\", ctx.customSize)(\"line-height\", ctx.customSize)(\"font-size\", ctx.hasIcon && ctx.customSize ? ctx.nzSize / 2 : null, \"px\");\n      i0.ɵɵclassProp(\"ant-avatar-lg\", ctx.nzSize === \"large\")(\"ant-avatar-sm\", ctx.nzSize === \"small\")(\"ant-avatar-square\", ctx.nzShape === \"square\")(\"ant-avatar-circle\", ctx.nzShape === \"circle\")(\"ant-avatar-icon\", ctx.nzIcon)(\"ant-avatar-image\", ctx.hasSrc);\n    }\n  },\n  inputs: {\n    nzShape: \"nzShape\",\n    nzSize: \"nzSize\",\n    nzGap: \"nzGap\",\n    nzText: \"nzText\",\n    nzSrc: \"nzSrc\",\n    nzSrcSet: \"nzSrcSet\",\n    nzAlt: \"nzAlt\",\n    nzIcon: \"nzIcon\"\n  },\n  outputs: {\n    nzError: \"nzError\"\n  },\n  exportAs: [\"nzAvatar\"],\n  features: [i0.ɵɵNgOnChangesFeature],\n  decls: 3,\n  vars: 3,\n  consts: [[\"nz-icon\", \"\", 3, \"nzType\", 4, \"ngIf\"], [3, \"src\", \"error\", 4, \"ngIf\"], [\"class\", \"ant-avatar-string\", 3, \"ngStyle\", 4, \"ngIf\"], [\"nz-icon\", \"\", 3, \"nzType\"], [3, \"src\", \"error\"], [1, \"ant-avatar-string\", 3, \"ngStyle\"], [\"textEl\", \"\"]],\n  template: function NzAvatarComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, NzAvatarComponent_i_0_Template, 1, 1, \"i\", 0);\n      i0.ɵɵtemplate(1, NzAvatarComponent_img_1_Template, 1, 3, \"img\", 1);\n      i0.ɵɵtemplate(2, NzAvatarComponent_span_2_Template, 3, 2, \"span\", 2);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.nzIcon && ctx.hasIcon);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.nzSrc && ctx.hasSrc);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.nzText && ctx.hasText);\n    }\n  },\n  directives: [i3.NgIf, i4.NzIconDirective, i3.NgStyle],\n  encapsulation: 2,\n  changeDetection: 0\n});\n\n__decorate([WithConfig()], NzAvatarComponent.prototype, \"nzShape\", void 0);\n\n__decorate([WithConfig()], NzAvatarComponent.prototype, \"nzSize\", void 0);\n\n__decorate([WithConfig(), InputNumber()], NzAvatarComponent.prototype, \"nzGap\", void 0);\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NzAvatarComponent, [{\n    type: Component,\n    args: [{\n      selector: 'nz-avatar',\n      exportAs: 'nzAvatar',\n      template: \"\\n    <i nz-icon *ngIf=\\\"nzIcon && hasIcon\\\" [nzType]=\\\"nzIcon\\\"></i>\\n    <img *ngIf=\\\"nzSrc && hasSrc\\\" [src]=\\\"nzSrc\\\" [attr.srcset]=\\\"nzSrcSet\\\" [attr.alt]=\\\"nzAlt\\\" (error)=\\\"imgError($event)\\\" />\\n    <span class=\\\"ant-avatar-string\\\" #textEl [ngStyle]=\\\"textStyles\\\" *ngIf=\\\"nzText && hasText\\\">{{ nzText }}</span>\\n  \",\n      host: {\n        class: 'ant-avatar',\n        '[class.ant-avatar-lg]': \"nzSize === 'large'\",\n        '[class.ant-avatar-sm]': \"nzSize === 'small'\",\n        '[class.ant-avatar-square]': \"nzShape === 'square'\",\n        '[class.ant-avatar-circle]': \"nzShape === 'circle'\",\n        '[class.ant-avatar-icon]': \"nzIcon\",\n        '[class.ant-avatar-image]': \"hasSrc \",\n        '[style.width]': 'customSize',\n        '[style.height]': 'customSize',\n        '[style.line-height]': 'customSize',\n        // nzSize type is number when customSize is true\n        '[style.font-size.px]': '(hasIcon && customSize) ? $any(nzSize) / 2 : null'\n      },\n      preserveWhitespaces: false,\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      encapsulation: ViewEncapsulation.None\n    }]\n  }], function () {\n    return [{\n      type: i1.NzConfigService\n    }, {\n      type: i0.ElementRef\n    }, {\n      type: i0.ChangeDetectorRef\n    }, {\n      type: i2.Platform\n    }];\n  }, {\n    nzShape: [{\n      type: Input\n    }],\n    nzSize: [{\n      type: Input\n    }],\n    nzGap: [{\n      type: Input\n    }],\n    nzText: [{\n      type: Input\n    }],\n    nzSrc: [{\n      type: Input\n    }],\n    nzSrcSet: [{\n      type: Input\n    }],\n    nzAlt: [{\n      type: Input\n    }],\n    nzIcon: [{\n      type: Input\n    }],\n    nzError: [{\n      type: Output\n    }],\n    textEl: [{\n      type: ViewChild,\n      args: ['textEl', {\n        static: false\n      }]\n    }]\n  });\n})();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nvar NzAvatarGroupComponent = /*#__PURE__*/_createClass(function NzAvatarGroupComponent() {\n  _classCallCheck(this, NzAvatarGroupComponent);\n});\n\nNzAvatarGroupComponent.ɵfac = function NzAvatarGroupComponent_Factory(t) {\n  return new (t || NzAvatarGroupComponent)();\n};\n\nNzAvatarGroupComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: NzAvatarGroupComponent,\n  selectors: [[\"nz-avatar-group\"]],\n  hostAttrs: [1, \"ant-avatar-group\"],\n  exportAs: [\"nzAvatarGroup\"],\n  ngContentSelectors: _c1,\n  decls: 1,\n  vars: 0,\n  template: function NzAvatarGroupComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵprojectionDef();\n      i0.ɵɵprojection(0);\n    }\n  },\n  encapsulation: 2,\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NzAvatarGroupComponent, [{\n    type: Component,\n    args: [{\n      selector: 'nz-avatar-group',\n      exportAs: 'nzAvatarGroup',\n      template: \" <ng-content></ng-content> \",\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      host: {\n        class: 'ant-avatar-group'\n      }\n    }]\n  }], null, null);\n})();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nvar NzAvatarModule = /*#__PURE__*/_createClass(function NzAvatarModule() {\n  _classCallCheck(this, NzAvatarModule);\n});\n\nNzAvatarModule.ɵfac = function NzAvatarModule_Factory(t) {\n  return new (t || NzAvatarModule)();\n};\n\nNzAvatarModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: NzAvatarModule,\n  declarations: [NzAvatarComponent, NzAvatarGroupComponent],\n  imports: [BidiModule, CommonModule, NzIconModule, PlatformModule],\n  exports: [NzAvatarComponent, NzAvatarGroupComponent]\n});\nNzAvatarModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  imports: [[BidiModule, CommonModule, NzIconModule, PlatformModule]]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NzAvatarModule, [{\n    type: NgModule,\n    args: [{\n      declarations: [NzAvatarComponent, NzAvatarGroupComponent],\n      exports: [NzAvatarComponent, NzAvatarGroupComponent],\n      imports: [BidiModule, CommonModule, NzIconModule, PlatformModule]\n    }]\n  }], null, null);\n})();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { NzAvatarComponent, NzAvatarGroupComponent, NzAvatarModule }; //# sourceMappingURL=ng-zorro-antd-avatar.mjs.map","map":null,"metadata":{},"sourceType":"module"}