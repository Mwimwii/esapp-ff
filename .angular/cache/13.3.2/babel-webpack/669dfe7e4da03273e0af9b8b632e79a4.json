{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\admin\\\\Documents\\\\work\\\\ESAPP\\\\esapp-mobile\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\classCallCheck.js\";\nimport _createClass from \"C:\\\\Users\\\\admin\\\\Documents\\\\work\\\\ESAPP\\\\esapp-mobile\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createClass.js\";\nimport { __decorate, __metadata } from \"tslib\";\nimport { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { environment } from '../../../environments/environment.dev';\nimport store from 'store';\n\nvar basicAuthService = /*#__PURE__*/function () {\n  function basicAuthService(http) {\n    _classCallCheck(this, basicAuthService);\n\n    this.http = http;\n    this.environment = environment;\n  }\n\n  _createClass(basicAuthService, [{\n    key: \"login\",\n    value: function login(email, password) {\n      var url = this.environment.apiUrl + '/auth-token';\n      var auth = btoa(email + ':' + password);\n      var httpOptions = {\n        headers: new HttpHeaders({\n          'Content-Type': 'application/json',\n          'Authorization': 'Basic ' + auth\n        })\n      };\n      return this.http.get(url, httpOptions);\n    } // user name password\n\n  }, {\n    key: \"currentAccount\",\n    value: function currentAccount() {\n      var url = this.environment.apiUrl + '/auth-token'; // const accessToken = 'Basic ' + btoa(store.get('email') + ':' + store.get('password'))\n\n      var accessToken = store.get('accessToken');\n      var params = accessToken ? {\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': accessToken\n        }\n      } : {\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Basic bluffToken'\n        }\n      };\n      return this.http.get(url, params);\n    }\n  }, {\n    key: \"logout\",\n    value: function logout() {\n      var url = this.environment.apiUrl + '/auth-token/logout';\n      return this.http.get(url);\n    }\n  }]);\n\n  return basicAuthService;\n}();\n\nbasicAuthService.ctorParameters = function () {\n  return [{\n    type: HttpClient\n  }];\n};\n\nbasicAuthService = __decorate([Injectable(), __metadata(\"design:paramtypes\", [HttpClient])], basicAuthService);\nexport { basicAuthService };","map":null,"metadata":{},"sourceType":"module"}