{"ast":null,"code":"import _createForOfIteratorHelper from \"C:\\\\Users\\\\admin\\\\Documents\\\\work\\\\ESAPP\\\\esapp-mobile\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createForOfIteratorHelper.js\";\nimport _classCallCheck from \"C:\\\\Users\\\\admin\\\\Documents\\\\work\\\\ESAPP\\\\esapp-mobile\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\classCallCheck.js\";\nimport _createClass from \"C:\\\\Users\\\\admin\\\\Documents\\\\work\\\\ESAPP\\\\esapp-mobile\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createClass.js\";\nimport { __decorate, __metadata } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./map.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./map.component.scss?ngResource\";\nimport { Component } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport * as L from 'leaflet';\nimport { DataService } from 'src/app/services/data-service';\n\nvar MapComponent = /*#__PURE__*/function () {\n  function MapComponent(http, dataService) {\n    _classCallCheck(this, MapComponent);\n\n    this.http = http;\n    this.dataService = dataService;\n  }\n\n  _createClass(MapComponent, [{\n    key: \"ngOnInit\",\n    value: function ngOnInit() {// this.getdata()\n    } // Place the map inside the DOM\n\n  }, {\n    key: \"ngAfterViewInit\",\n    value: function ngAfterViewInit() {\n      this.initMap();\n      this.makeFarmerMarkers(this.map);\n    } // Created the markers for the farmers\n\n  }, {\n    key: \"makeFarmerMarkers\",\n    value: function makeFarmerMarkers(map) {\n      var _this = this;\n\n      this.dataService.getCategoryAFarmers().subscribe(function (data) {\n        _this.farmers = data;\n\n        var _iterator = _createForOfIteratorHelper(_this.farmers),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var farmer = _step.value;\n            var marker = L.marker([farmer.latitude, farmer.longitude]).addTo(map);\n            marker.bindPopup(\"<b>\".concat(farmer.first_name, \"</b>\"));\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      });\n    } // Create the new Leaflet map object\n\n  }, {\n    key: \"initMap\",\n    value: function initMap() {\n      this.map = L.map('map', {\n        'center': [-15.3526808, 29.1675323],\n        'zoom': 8\n      });\n      var tiles = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n        maxZoom: 18,\n        minZoom: 3,\n        attribution: '&copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>'\n      });\n      tiles.addTo(this.map);\n    }\n  }]);\n\n  return MapComponent;\n}();\n\nMapComponent.ctorParameters = function () {\n  return [{\n    type: HttpClient\n  }, {\n    type: DataService\n  }];\n};\n\nMapComponent = __decorate([Component({\n  selector: 'app-map',\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n}), __metadata(\"design:paramtypes\", [HttpClient, DataService])], MapComponent);\nexport { MapComponent };","map":null,"metadata":{},"sourceType":"module"}