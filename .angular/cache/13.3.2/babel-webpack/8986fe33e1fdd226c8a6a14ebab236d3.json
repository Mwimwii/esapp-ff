{"ast":null,"code":"import { select, Store } from '@ngrx/store';\nimport * as SettingsActions from 'src/app/store/settings/actions';\nimport * as Reducers from 'src/app/store/reducers';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/store\";\n\nfunction VariantsComponent_ng_container_1_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function VariantsComponent_ng_container_1_button_4_Template_button_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const key_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext(2);\n      return ctx_r3.applyVariant(key_r2);\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const key_r2 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"nzType\", key_r2 === ctx_r1.preselectedVariant ? \"primary\" : \"default\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", key_r2, \" \");\n  }\n}\n\nfunction VariantsComponent_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"h6\", 2)(2, \"strong\");\n    i0.ɵɵtext(3, \"Pre-Configured Layouts\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(4, VariantsComponent_ng_container_1_button_4_Template, 2, 2, \"button\", 3);\n    i0.ɵɵelementStart(5, \"div\", 4)(6, \"div\", 5)(7, \"div\", 6)(8, \"h6\", 2)(9, \"strong\");\n    i0.ɵɵtext(10, \"Visual Builder Style\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"nz-radio-group\", 7);\n    i0.ɵɵlistener(\"ngModelChange\", function VariantsComponent_ng_container_1_Template_nz_radio_group_ngModelChange_11_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.version = $event;\n    })(\"ngModelChange\", function VariantsComponent_ng_container_1_Template_nz_radio_group_ngModelChange_11_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.settingChange($event, \"version\");\n    });\n    i0.ɵɵelementStart(12, \"label\", 8);\n    i0.ɵɵtext(13, \"Fluent\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"label\", 9);\n    i0.ɵɵtext(15, \"Clean\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"label\", 10);\n    i0.ɵɵtext(17, \"Air\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(18, \"div\", 5)(19, \"div\", 6)(20, \"h6\", 2)(21, \"strong\");\n    i0.ɵɵtext(22, \"Theme\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(23, \"nz-radio-group\", 7);\n    i0.ɵɵlistener(\"ngModelChange\", function VariantsComponent_ng_container_1_Template_nz_radio_group_ngModelChange_23_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return ctx_r8.theme = $event;\n    })(\"ngModelChange\", function VariantsComponent_ng_container_1_Template_nz_radio_group_ngModelChange_23_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return ctx_r9.settingChange($event, \"theme\");\n    });\n    i0.ɵɵelementStart(24, \"label\", 11);\n    i0.ɵɵtext(25, \"Light\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"label\", 12);\n    i0.ɵɵtext(27, \"Dark\");\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.themeKeys);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.version);\n    i0.ɵɵadvance(12);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.theme);\n  }\n}\n\nconst themes = require('./configs.json');\n\nexport let VariantsComponent = /*#__PURE__*/(() => {\n  class VariantsComponent {\n    constructor(store) {\n      this.store = store;\n      this.themeKeys = Object.keys(themes);\n      this.store.pipe(select(Reducers.getSettings)).subscribe(state => {\n        this.isPreselectedOpen = state.isPreselectedOpen;\n        this.version = state.version;\n        this.theme = state.theme;\n\n        if (this.preselectedVariant !== state.preselectedVariant) {\n          this.applyVariant(state.preselectedVariant);\n        }\n\n        this.preselectedVariant = state.preselectedVariant;\n\n        if (state.isPreselectedOpen) {\n          document.getElementsByTagName('html')[0].classList.add('isPreselectedOpen');\n        } else {\n          setTimeout(() => {\n            document.getElementsByTagName('html')[0].classList.remove('isPreselectedOpen');\n          }, 500);\n        }\n      });\n    }\n\n    toggleModal() {\n      this.store.dispatch(new SettingsActions.SetStateAction({\n        isPreselectedOpen: !this.isPreselectedOpen\n      }));\n    }\n\n    settingChange(value, setting) {\n      this.store.dispatch(new SettingsActions.SetStateAction({\n        [setting]: value\n      }));\n    }\n\n    applyVariant(key) {\n      const payload = JSON.parse(JSON.stringify(themes[key]));\n\n      if (this.theme === 'dark') {\n        payload.menuColor = 'dark';\n      }\n\n      this.store.dispatch(new SettingsActions.ChangeSettingBulkAction(payload));\n    }\n\n  }\n\n  VariantsComponent.ɵfac = function VariantsComponent_Factory(t) {\n    return new (t || VariantsComponent)(i0.ɵɵdirectiveInject(i1.Store));\n  };\n\n  VariantsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: VariantsComponent,\n    selectors: [[\"vb-variants\"]],\n    decls: 2,\n    vars: 2,\n    consts: [[\"nzMask\", \"false\", \"nzTitle\", \"Theme Configurator\", 3, \"nzVisible\", \"nzFooter\", \"nzVisibleChange\", \"nzOnCancel\"], [4, \"nzModalContent\"], [1, \"mb-3\"], [\"nz-button\", \"\", \"nzSize\", \"large\", \"class\", \"variantButton\", 3, \"nzType\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"row\"], [1, \"col-lg-6\"], [1, \"mt-4\"], [3, \"ngModel\", \"ngModelChange\"], [\"nz-radio-button\", \"\", \"nzValue\", \"fluent\"], [\"nz-radio-button\", \"\", \"nzValue\", \"clean\"], [\"nz-radio-button\", \"\", \"nzValue\", \"air\"], [\"nz-radio-button\", \"\", \"nzValue\", \"default\"], [\"nz-radio-button\", \"\", \"nzValue\", \"dark\"], [\"nz-button\", \"\", \"nzSize\", \"large\", 1, \"variantButton\", 3, \"nzType\", \"click\"]],\n    template: function VariantsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"nz-modal\", 0);\n        i0.ɵɵlistener(\"nzVisibleChange\", function VariantsComponent_Template_nz_modal_nzVisibleChange_0_listener($event) {\n          return ctx.isPreselectedOpen = $event;\n        })(\"nzOnCancel\", function VariantsComponent_Template_nz_modal_nzOnCancel_0_listener() {\n          return ctx.toggleModal();\n        });\n        i0.ɵɵtemplate(1, VariantsComponent_ng_container_1_Template, 28, 3, \"ng-container\", 1);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"nzVisible\", ctx.isPreselectedOpen)(\"nzFooter\", null);\n      }\n    },\n    styles: [\".isPreselectedOpen{position:static!important;overflow-y:auto!important}  .isPreselectedOpen .cdk-overlay-container,   .isPreselectedOpen .cdk-overlay-backdrop,   .isPreselectedOpen .ant-modal-wrap{pointer-events:none}  .isPreselectedOpen .ant-modal{pointer-events:all!important}.variantButton[_ngcontent-%COMP%]{border-radius:10px!important;margin-right:.66rem;margin-bottom:.66rem}\"]\n  });\n  return VariantsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}