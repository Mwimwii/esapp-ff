{"ast":null,"code":"import * as i0 from \"@angular/core\";\n\nfunction VbTablesAntd4Component_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Selected \", ctx_r0.numberOfChecked, \" items\");\n  }\n}\n\nfunction VbTablesAntd4Component_tr_16_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 7);\n    i0.ɵɵlistener(\"nzCheckedChange\", function VbTablesAntd4Component_tr_16_Template_td_nzCheckedChange_1_listener($event) {\n      var restoredCtx = i0.ɵɵrestoreView(_r5);\n      var data_r3 = restoredCtx.$implicit;\n      var ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.mapOfCheckedId[data_r3.id] = $event;\n    })(\"nzCheckedChange\", function VbTablesAntd4Component_tr_16_Template_td_nzCheckedChange_1_listener() {\n      i0.ɵɵrestoreView(_r5);\n      var ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.refreshStatus();\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"td\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    var data_r3 = ctx.$implicit;\n    var ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"nzChecked\", ctx_r2.mapOfCheckedId[data_r3.id])(\"nzDisabled\", data_r3.disabled);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(data_r3.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(data_r3.age);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(data_r3.address);\n  }\n}\n\nvar VbTablesAntd4Component =\n/** @class */\nfunction () {\n  function VbTablesAntd4Component() {\n    this.isAllDisplayDataChecked = false;\n    this.isOperating = false;\n    this.isIndeterminate = false;\n    this.listOfDisplayData = [];\n    this.listOfAllData = [];\n    this.mapOfCheckedId = {};\n    this.numberOfChecked = 0;\n  }\n\n  VbTablesAntd4Component.prototype.currentPageDataChange = function ($event) {\n    this.listOfDisplayData = $event;\n    this.refreshStatus();\n  };\n\n  VbTablesAntd4Component.prototype.refreshStatus = function () {\n    var _this = this;\n\n    this.isAllDisplayDataChecked = this.listOfDisplayData.filter(function (item) {\n      return !item.disabled;\n    }).every(function (item) {\n      return _this.mapOfCheckedId[item.id];\n    });\n    this.isIndeterminate = this.listOfDisplayData.filter(function (item) {\n      return !item.disabled;\n    }).some(function (item) {\n      return _this.mapOfCheckedId[item.id];\n    }) && !this.isAllDisplayDataChecked;\n    this.numberOfChecked = this.listOfAllData.filter(function (item) {\n      return _this.mapOfCheckedId[item.id];\n    }).length;\n  };\n\n  VbTablesAntd4Component.prototype.checkAll = function (value) {\n    var _this = this;\n\n    this.listOfDisplayData.filter(function (item) {\n      return !item.disabled;\n    }).forEach(function (item) {\n      return _this.mapOfCheckedId[item.id] = value;\n    });\n    this.refreshStatus();\n  };\n\n  VbTablesAntd4Component.prototype.operateData = function () {\n    var _this = this;\n\n    this.isOperating = true;\n    setTimeout(function () {\n      _this.listOfAllData.forEach(function (item) {\n        return _this.mapOfCheckedId[item.id] = false;\n      });\n\n      _this.refreshStatus();\n\n      _this.isOperating = false;\n    }, 1000);\n  };\n\n  VbTablesAntd4Component.prototype.ngOnInit = function () {\n    for (var i = 0; i < 100; i++) {\n      this.listOfAllData.push({\n        id: i,\n        name: \"Edward King \".concat(i),\n        age: 32,\n        address: \"London, Park Lane no. \".concat(i),\n        disabled: i % 2 === 0\n      });\n    }\n  };\n\n  VbTablesAntd4Component.ɵfac = function VbTablesAntd4Component_Factory(t) {\n    return new (t || VbTablesAntd4Component)();\n  };\n\n  VbTablesAntd4Component.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: VbTablesAntd4Component,\n    selectors: [[\"vb-tables-antd-4\"]],\n    decls: 17,\n    vars: 8,\n    consts: [[1, \"operate\"], [\"nz-button\", \"\", 3, \"disabled\", \"nzType\", \"nzLoading\", \"click\"], [4, \"ngIf\"], [\"nzShowPagination\", \"\", \"nzShowSizeChanger\", \"\", 1, \"vb__utils__table\", \"mb-4\", 3, \"nzData\", \"nzCurrentPageDataChange\"], [\"rowSelectionTable\", \"\"], [\"nzShowCheckbox\", \"\", 3, \"nzChecked\", \"nzIndeterminate\", \"nzCheckedChange\"], [4, \"ngFor\", \"ngForOf\"], [\"nzShowCheckbox\", \"\", 3, \"nzChecked\", \"nzDisabled\", \"nzCheckedChange\"]],\n    template: function VbTablesAntd4Component_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"button\", 1);\n        i0.ɵɵlistener(\"click\", function VbTablesAntd4Component_Template_button_click_1_listener() {\n          return ctx.operateData();\n        });\n        i0.ɵɵtext(2, \" Reload \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(3, VbTablesAntd4Component_span_3_Template, 2, 1, \"span\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"nz-table\", 3, 4);\n        i0.ɵɵlistener(\"nzCurrentPageDataChange\", function VbTablesAntd4Component_Template_nz_table_nzCurrentPageDataChange_4_listener($event) {\n          return ctx.currentPageDataChange($event);\n        });\n        i0.ɵɵelementStart(6, \"thead\")(7, \"tr\")(8, \"th\", 5);\n        i0.ɵɵlistener(\"nzCheckedChange\", function VbTablesAntd4Component_Template_th_nzCheckedChange_8_listener($event) {\n          return ctx.isAllDisplayDataChecked = $event;\n        })(\"nzCheckedChange\", function VbTablesAntd4Component_Template_th_nzCheckedChange_8_listener($event) {\n          return ctx.checkAll($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"th\");\n        i0.ɵɵtext(10, \"Name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"th\");\n        i0.ɵɵtext(12, \"Age\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"th\");\n        i0.ɵɵtext(14, \"Address\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(15, \"tbody\");\n        i0.ɵɵtemplate(16, VbTablesAntd4Component_tr_16_Template, 8, 5, \"tr\", 6);\n        i0.ɵɵelementEnd()();\n      }\n\n      if (rf & 2) {\n        var _r1 = i0.ɵɵreference(5);\n\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"disabled\", ctx.numberOfChecked === 0)(\"nzType\", \"primary\")(\"nzLoading\", ctx.isOperating);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.numberOfChecked);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"nzData\", ctx.listOfAllData);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"nzChecked\", ctx.isAllDisplayDataChecked)(\"nzIndeterminate\", ctx.isIndeterminate);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngForOf\", _r1.data);\n      }\n    },\n    styles: [\"\", \".operate[_ngcontent-%COMP%]{margin-bottom:16px}.operate[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:8px}\"]\n  });\n  return VbTablesAntd4Component;\n}();\n\nexport { VbTablesAntd4Component };","map":null,"metadata":{},"sourceType":"module"}