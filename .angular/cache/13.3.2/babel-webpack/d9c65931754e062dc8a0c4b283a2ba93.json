{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\admin\\\\Documents\\\\work\\\\ESAPP\\\\esapp-mobile\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\classCallCheck.js\";\nimport _createClass from \"C:\\\\Users\\\\admin\\\\Documents\\\\work\\\\ESAPP\\\\esapp-mobile\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createClass.js\";\nimport { __decorate } from 'tslib';\nimport * as i5 from '@angular/common';\nimport { DOCUMENT, CommonModule } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { EventEmitter, Component, ChangeDetectionStrategy, ViewEncapsulation, Inject, Optional, Input, Output, ViewChild, NgModule } from '@angular/core';\nimport { Subject, Subscription, fromEvent } from 'rxjs';\nimport { takeUntil, debounceTime } from 'rxjs/operators';\nimport { fadeMotion } from 'ng-zorro-antd/core/animation';\nimport * as i1 from 'ng-zorro-antd/core/config';\nimport { WithConfig } from 'ng-zorro-antd/core/config';\nimport * as i2 from 'ng-zorro-antd/core/services';\nimport { NzDestroyService } from 'ng-zorro-antd/core/services';\nimport { InputNumber } from 'ng-zorro-antd/core/util';\nimport * as i3 from '@angular/cdk/platform';\nimport { PlatformModule } from '@angular/cdk/platform';\nimport * as i4 from '@angular/cdk/bidi';\nimport { BidiModule } from '@angular/cdk/bidi';\nimport * as i6 from 'ng-zorro-antd/icon';\nimport { NzIconModule } from 'ng-zorro-antd/icon';\nvar _c0 = [\"backTop\"];\n\nfunction NzBackTopComponent_div_0_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5)(1, \"div\", 6);\n    i0.ɵɵelement(2, \"i\", 7);\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction NzBackTopComponent_div_0_ng_template_4_Template(rf, ctx) {}\n\nfunction NzBackTopComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1, 2);\n    i0.ɵɵtemplate(2, NzBackTopComponent_div_0_ng_template_2_Template, 3, 0, \"ng-template\", null, 3, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵtemplate(4, NzBackTopComponent_div_0_ng_template_4_Template, 0, 0, \"ng-template\", 4);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var _r2 = i0.ɵɵreference(3);\n\n    var ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"ant-back-top-rtl\", ctx_r0.dir === \"rtl\");\n    i0.ɵɵproperty(\"@fadeMotion\", undefined);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r0.nzTemplate || _r2);\n  }\n}\n\nvar NZ_CONFIG_MODULE_NAME = 'backTop';\n\nvar NzBackTopComponent = /*#__PURE__*/function () {\n  function NzBackTopComponent(doc, nzConfigService, scrollSrv, platform, cd, zone, cdr, destroy$, directionality) {\n    _classCallCheck(this, NzBackTopComponent);\n\n    this.doc = doc;\n    this.nzConfigService = nzConfigService;\n    this.scrollSrv = scrollSrv;\n    this.platform = platform;\n    this.cd = cd;\n    this.zone = zone;\n    this.cdr = cdr;\n    this.destroy$ = destroy$;\n    this.directionality = directionality;\n    this._nzModuleName = NZ_CONFIG_MODULE_NAME;\n    this.scrollListenerDestroy$ = new Subject();\n    this.target = null;\n    this.visible = false;\n    this.dir = 'ltr';\n    this.nzVisibilityHeight = 400;\n    this.nzDuration = 450;\n    this.nzClick = new EventEmitter();\n    this.backTopClickSubscription = Subscription.EMPTY;\n    this.dir = this.directionality.value;\n  }\n\n  _createClass(NzBackTopComponent, [{\n    key: \"backTop\",\n    set: function set(backTop) {\n      var _this = this;\n\n      if (backTop) {\n        this.backTopClickSubscription.unsubscribe();\n        this.backTopClickSubscription = this.zone.runOutsideAngular(function () {\n          return fromEvent(backTop.nativeElement, 'click').pipe(takeUntil(_this.destroy$)).subscribe(function () {\n            _this.scrollSrv.scrollTo(_this.getTarget(), 0, {\n              duration: _this.nzDuration\n            });\n\n            if (_this.nzClick.observers.length) {\n              _this.zone.run(function () {\n                return _this.nzClick.emit(true);\n              });\n            }\n          });\n        });\n      }\n    }\n  }, {\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      var _this2 = this;\n\n      var _a;\n\n      this.registerScrollEvent();\n      (_a = this.directionality.change) === null || _a === void 0 ? void 0 : _a.pipe(takeUntil(this.destroy$)).subscribe(function (direction) {\n        _this2.dir = direction;\n\n        _this2.cdr.detectChanges();\n      });\n      this.dir = this.directionality.value;\n    }\n  }, {\n    key: \"getTarget\",\n    value: function getTarget() {\n      return this.target || window;\n    }\n  }, {\n    key: \"handleScroll\",\n    value: function handleScroll() {\n      if (this.visible === this.scrollSrv.getScroll(this.getTarget()) > this.nzVisibilityHeight) {\n        return;\n      }\n\n      this.visible = !this.visible;\n      this.cd.detectChanges();\n    }\n  }, {\n    key: \"registerScrollEvent\",\n    value: function registerScrollEvent() {\n      var _this3 = this;\n\n      if (!this.platform.isBrowser) {\n        return;\n      }\n\n      this.scrollListenerDestroy$.next();\n      this.handleScroll();\n      this.zone.runOutsideAngular(function () {\n        fromEvent(_this3.getTarget(), 'scroll').pipe(debounceTime(50), takeUntil(_this3.scrollListenerDestroy$)).subscribe(function () {\n          return _this3.handleScroll();\n        });\n      });\n    }\n  }, {\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      this.scrollListenerDestroy$.next();\n      this.scrollListenerDestroy$.complete();\n    }\n  }, {\n    key: \"ngOnChanges\",\n    value: function ngOnChanges(changes) {\n      var nzTarget = changes.nzTarget;\n\n      if (nzTarget) {\n        this.target = typeof this.nzTarget === 'string' ? this.doc.querySelector(this.nzTarget) : this.nzTarget;\n        this.registerScrollEvent();\n      }\n    }\n  }]);\n\n  return NzBackTopComponent;\n}();\n\nNzBackTopComponent.ɵfac = function NzBackTopComponent_Factory(t) {\n  return new (t || NzBackTopComponent)(i0.ɵɵdirectiveInject(DOCUMENT), i0.ɵɵdirectiveInject(i1.NzConfigService), i0.ɵɵdirectiveInject(i2.NzScrollService), i0.ɵɵdirectiveInject(i3.Platform), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i0.NgZone), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i2.NzDestroyService), i0.ɵɵdirectiveInject(i4.Directionality, 8));\n};\n\nNzBackTopComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: NzBackTopComponent,\n  selectors: [[\"nz-back-top\"]],\n  viewQuery: function NzBackTopComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n\n    if (rf & 2) {\n      var _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.backTop = _t.first);\n    }\n  },\n  inputs: {\n    nzTemplate: \"nzTemplate\",\n    nzVisibilityHeight: \"nzVisibilityHeight\",\n    nzTarget: \"nzTarget\",\n    nzDuration: \"nzDuration\"\n  },\n  outputs: {\n    nzClick: \"nzClick\"\n  },\n  exportAs: [\"nzBackTop\"],\n  features: [i0.ɵɵProvidersFeature([NzDestroyService]), i0.ɵɵNgOnChangesFeature],\n  decls: 1,\n  vars: 1,\n  consts: [[\"class\", \"ant-back-top\", 3, \"ant-back-top-rtl\", 4, \"ngIf\"], [1, \"ant-back-top\"], [\"backTop\", \"\"], [\"defaultContent\", \"\"], [3, \"ngTemplateOutlet\"], [1, \"ant-back-top-content\"], [1, \"ant-back-top-icon\"], [\"nz-icon\", \"\", \"nzType\", \"vertical-align-top\"]],\n  template: function NzBackTopComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, NzBackTopComponent_div_0_Template, 5, 4, \"div\", 0);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.visible);\n    }\n  },\n  directives: [i5.NgIf, i6.NzIconDirective, i5.NgTemplateOutlet],\n  encapsulation: 2,\n  data: {\n    animation: [fadeMotion]\n  },\n  changeDetection: 0\n});\n\n__decorate([WithConfig(), InputNumber()], NzBackTopComponent.prototype, \"nzVisibilityHeight\", void 0);\n\n__decorate([InputNumber()], NzBackTopComponent.prototype, \"nzDuration\", void 0);\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NzBackTopComponent, [{\n    type: Component,\n    args: [{\n      selector: 'nz-back-top',\n      exportAs: 'nzBackTop',\n      animations: [fadeMotion],\n      template: \"\\n    <div #backTop class=\\\"ant-back-top\\\" [class.ant-back-top-rtl]=\\\"dir === 'rtl'\\\" @fadeMotion *ngIf=\\\"visible\\\">\\n      <ng-template #defaultContent>\\n        <div class=\\\"ant-back-top-content\\\">\\n          <div class=\\\"ant-back-top-icon\\\">\\n            <i nz-icon nzType=\\\"vertical-align-top\\\"></i>\\n          </div>\\n        </div>\\n      </ng-template>\\n      <ng-template [ngTemplateOutlet]=\\\"nzTemplate || defaultContent\\\"></ng-template>\\n    </div>\\n  \",\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      encapsulation: ViewEncapsulation.None,\n      preserveWhitespaces: false,\n      providers: [NzDestroyService]\n    }]\n  }], function () {\n    return [{\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [DOCUMENT]\n      }]\n    }, {\n      type: i1.NzConfigService\n    }, {\n      type: i2.NzScrollService\n    }, {\n      type: i3.Platform\n    }, {\n      type: i0.ChangeDetectorRef\n    }, {\n      type: i0.NgZone\n    }, {\n      type: i0.ChangeDetectorRef\n    }, {\n      type: i2.NzDestroyService\n    }, {\n      type: i4.Directionality,\n      decorators: [{\n        type: Optional\n      }]\n    }];\n  }, {\n    nzTemplate: [{\n      type: Input\n    }],\n    nzVisibilityHeight: [{\n      type: Input\n    }],\n    nzTarget: [{\n      type: Input\n    }],\n    nzDuration: [{\n      type: Input\n    }],\n    nzClick: [{\n      type: Output\n    }],\n    backTop: [{\n      type: ViewChild,\n      args: ['backTop', {\n        static: false\n      }]\n    }]\n  });\n})();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nvar NzBackTopModule = /*#__PURE__*/_createClass(function NzBackTopModule() {\n  _classCallCheck(this, NzBackTopModule);\n});\n\nNzBackTopModule.ɵfac = function NzBackTopModule_Factory(t) {\n  return new (t || NzBackTopModule)();\n};\n\nNzBackTopModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: NzBackTopModule,\n  declarations: [NzBackTopComponent],\n  imports: [BidiModule, CommonModule, PlatformModule, NzIconModule],\n  exports: [NzBackTopComponent]\n});\nNzBackTopModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  imports: [[BidiModule, CommonModule, PlatformModule, NzIconModule]]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NzBackTopModule, [{\n    type: NgModule,\n    args: [{\n      declarations: [NzBackTopComponent],\n      exports: [NzBackTopComponent],\n      imports: [BidiModule, CommonModule, PlatformModule, NzIconModule]\n    }]\n  }], null, null);\n})();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { NzBackTopComponent, NzBackTopModule }; //# sourceMappingURL=ng-zorro-antd-back-top.mjs.map","map":null,"metadata":{},"sourceType":"module"}