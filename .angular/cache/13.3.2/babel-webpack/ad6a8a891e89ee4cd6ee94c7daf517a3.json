{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\admin\\\\Documents\\\\work\\\\ESAPP\\\\esapp-mobile\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\classCallCheck.js\";\nimport _createClass from \"C:\\\\Users\\\\admin\\\\Documents\\\\work\\\\ESAPP\\\\esapp-mobile\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createClass.js\";\nimport { __decorate, __metadata } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./login.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"../style.component.scss?ngResource\";\nimport { Component } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { select, Store } from '@ngrx/store';\nimport * as Reducers from 'src/app/store/reducers';\nimport * as UserActions from 'src/app/store/user/actions';\n\nvar LoginComponent = /*#__PURE__*/function () {\n  function LoginComponent(fb, store) {\n    var _this = this;\n\n    _classCallCheck(this, LoginComponent);\n\n    this.fb = fb;\n    this.store = store;\n    this.authProvider = 'basic-auth';\n    this.loading = false;\n    this.form = fb.group({\n      email: ['admin@emis.com', [Validators.required, Validators.minLength(4)]],\n      password: ['Q!weRTy@134', [Validators.required]]\n    });\n    this.store.pipe(select(Reducers.getSettings)).subscribe(function (state) {\n      _this.logo = state.logo;\n      _this.authProvider = state.authProvider;\n    });\n    this.store.pipe(select(Reducers.getUser)).subscribe(function (state) {\n      _this.loading = state.loading;\n    });\n  }\n\n  _createClass(LoginComponent, [{\n    key: \"email\",\n    get: function get() {\n      return this.form.controls.email;\n    }\n  }, {\n    key: \"password\",\n    get: function get() {\n      return this.form.controls.password;\n    }\n  }, {\n    key: \"submitForm\",\n    value: function submitForm() {\n      this.email.markAsDirty();\n      this.email.updateValueAndValidity();\n      this.password.markAsDirty();\n      this.password.updateValueAndValidity();\n\n      if (this.email.invalid || this.password.invalid) {\n        return;\n      }\n\n      var payload = {\n        email: this.email.value,\n        password: this.password.value\n      };\n      this.store.dispatch(new UserActions.Login(payload));\n    }\n  }]);\n\n  return LoginComponent;\n}();\n\nLoginComponent.ctorParameters = function () {\n  return [{\n    type: FormBuilder\n  }, {\n    type: Store\n  }];\n};\n\nLoginComponent = __decorate([Component({\n  selector: 'vb-system-login',\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n}), __metadata(\"design:paramtypes\", [FormBuilder, Store])], LoginComponent);\nexport { LoginComponent };","map":null,"metadata":{},"sourceType":"module"}